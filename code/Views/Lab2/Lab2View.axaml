<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:code.ViewModels"
             x:Class="code.Views.Lab2View"
             x:DataType="vm:Lab2ViewModel">
    <Border Background="#181818" CornerRadius="8" Padding="30" MaxWidth="800">
        <StackPanel Spacing="20">
            <TextBlock Text="Лабораторна робота 2 - MD5" 
                      HorizontalAlignment="Center" 
                      VerticalAlignment="Center" 
                      FontSize="24"
                      FontWeight="Bold"/>
            
            <Separator Background="#D4AF37" Height="1" Margin="0,5,0,15"/>
            
            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" Margin="0,10">
                <TextBlock Grid.Row="0" Grid.Column="0" Text="Текст:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding InputText, Mode=TwoWay}"
                         Watermark="Введіть текст для хешування"
                         AcceptsReturn="True"
                         Height="70"
                         Padding="12,8"
                         CornerRadius="4"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Шлях до файлу:" VerticalAlignment="Center" Margin="0,10,10,0"/>
                <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding FilePath, Mode=TwoWay}"
                         Watermark="Вкажіть шлях до файлу"
                         Padding="12,8"
                         Margin="0,10,0,0"
                         CornerRadius="4"/>
                
                <TextBlock Grid.Row="2" Grid.Column="0" Text="Очікуваний хеш:" VerticalAlignment="Center" Margin="0,10,10,0"/>
                <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding ExpectedHash, Mode=TwoWay}"
                         Watermark="Введіть очікуваний MD5-хеш для перевірки"
                         Padding="12,8"
                         Margin="0,10,0,0"
                         CornerRadius="4"/>
            </Grid>
            
            <StackPanel Spacing="12" HorizontalAlignment="Center" Margin="0,10,0,10">
                <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
                    <Button Content="Хешувати текст" Command="{Binding ComputeHashForTextCommand}"/>
                    <Button Content="Вибрати файл" Command="{Binding SelectFileCommand}"/>
                    <Button Content="Хешувати файл" Command="{Binding ComputeHashForFileCommand}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center" Margin="0,10,0,0">
                    <Button Content="Перевірити файл" Command="{Binding VerifyFileIntegrityCommand}"/>
                    <Button Content="Зберегти хеш" Command="{Binding SaveHashToFileCommand}"/>
                    <Button Content="Запустити тести" Command="{Binding RunTestSuiteCommand}"/>
                </StackPanel>
            </StackPanel>            
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5,0,5">
                <Button Content="Повернутися до меню"
                        Command="{Binding ReturnToMenuCommand}"
                        Width="450"
                        HorizontalContentAlignment="Center"
                        VerticalContentAlignment="Center"/>
            </StackPanel>
            
            <Border Background="#1E1E1E" CornerRadius="6" Padding="15" IsVisible="{Binding Message, Converter={x:Static ObjectConverters.IsNotNull}}">
                <TextBlock Text="{Binding Message}" 
                           Foreground="#D4AF37" 
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"/>
            </Border>
            
            <Border Background="#1E1E1E" CornerRadius="6" Padding="15" IsVisible="{Binding ComputedHash, Converter={x:Static ObjectConverters.IsNotNull}}">
                <StackPanel>
                    <TextBlock Text="Результат хешування:" 
                              Foreground="#E6D9A5" 
                              Margin="0,0,0,5"
                              HorizontalAlignment="Center"/>
                    <TextBox Text="{Binding ComputedHash, Mode=OneWay}" 
                            IsReadOnly="True"
                            TextWrapping="Wrap"
                            MaxHeight="300"
                            FontFamily="Consolas, Courier New, monospace"
                            Foreground="#D4AF37"
                            Background="#222222"
                            HorizontalAlignment="Stretch"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </Border>
</UserControl>